# Octobud Backend Configuration
# Copy this file to .env and configure the values below

# =============================================================================
# REQUIRED VARIABLES
# =============================================================================

# GitHub Personal Access Token
# Create one at: https://github.com/settings/tokens
# Required scopes: notifications, repo
GH_TOKEN=your_github_token_here

# JWT Secret for authentication token signing
# Required for server startup
# Automatically generated by Docker targets or `make ensure-jwt-secret`
# Generate manually with: openssl rand -hex 32
JWT_SECRET=

# =============================================================================
# OPTIONAL VARIABLES
# =============================================================================

# JWT Token Expiration Duration
# Default: 168h (7 days)
# Examples: 720h (30 days), 2160h (90 days)
# Format: Go duration string (e.g., "168h", "720h")
JWT_EXPIRY=168h

# Server Address
# Address and port the backend server listens on.
# Default: ":8080" (binds to all interfaces on port 8080)
# Examples:
#   ":8080"           - All interfaces, port 8080
#   "127.0.0.1:8080" - Localhost only, port 8080
#   "0.0.0.0:8080"   - All interfaces, port 8080 (explicit)
SERVER_ADDR=:8080

# Database Connection URL
# PostgreSQL connection string.
# Default: postgres://postgres:postgres@localhost:5432/octobud?sslmode=disable
# 
# ⚠️  SECURITY WARNING: The default credentials (postgres:postgres) are fine for
# local development but should be changed for any network-accessible deployment.
# 
# Format: postgres://username:password@host:port/database?sslmode=mode
# Examples:
#   postgres://postgres:postgres@localhost:5432/octobud?sslmode=disable
#   postgres://user:pass@postgres:5432/octobud?sslmode=disable  (Docker)
DATABASE_URL=postgres://postgres:postgres@localhost:5432/octobud?sslmode=disable

# Sync Interval (for notification sync worker)
# Default: not set (uses worker's default)
# Format: Go duration string (e.g., "10s", "1m", "5m")
# SYNC_INTERVAL=

# CORS Allowed Origins
# Comma-separated list of allowed origins for CORS requests.
# Default: localhost origins for development (http://localhost:5173, http://localhost:3000, http://localhost:8080)
# 
# For production, set this to your frontend domain(s):
#   CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# 
# Leave empty to use defaults (localhost only).
# Set to specific origins for production deployments.
# CORS_ALLOWED_ORIGINS=

# Secure Cookies
# Force secure (HTTPS-only) cookies, even when not behind a reverse proxy.
# Default: false (auto-detects HTTPS from request headers)
# 
# Set to "true" to force secure cookies in all cases.
# Set to "false" or leave unset to auto-detect HTTPS from request headers
# (useful when behind a reverse proxy that terminates TLS).
# SECURE_COOKIES=true

# =============================================================================
# NOTES
# =============================================================================

# For Docker setups:
# - JWT_SECRET is automatically generated if not set
# - DATABASE_URL is typically provided by Docker Compose
# - GH_TOKEN can be passed directly to make commands instead of using .env

# For local development:
# - All variables should be set in .env file
# - JWT_SECRET can be generated with: make ensure-jwt-secret
# - DATABASE_URL defaults to localhost PostgreSQL

# Security:
# - Change default database credentials (postgres:postgres) for production
# - Use strong, randomly generated JWT_SECRET for production
# - Never commit .env file to version control (it's in .gitignore)