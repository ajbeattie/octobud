<p align="center">
  <img src="frontend/static/baby_octo.svg" alt="Octobud Logo" width="120" height="120">
</p>

<h1 align="center">Octobud</h1>

<p align="center">
  <strong>Like Gmail, but for your GitHub notifications.</strong>
</p>

<p align="center">
  <a href="#features">Features</a> â€¢
  <a href="#quick-start">Quick Start</a> â€¢
  <a href="#documentation">Documentation</a> â€¢
  <a href="#contributing">Contributing</a>
</p>

<p align="center">
  <a href="https://github.com/ajbeattie/octobud/actions/workflows/ci.yml?query=branch%3Amain"><img src="https://github.com/ajbeattie/octobud/actions/workflows/ci.yml/badge.svg?branch=main" alt="CI Status"></a>
  <a href="LICENSE.txt"><img src="https://img.shields.io/badge/license-AGPL--3.0-blue.svg" alt="License"></a>
  <a href="https://github.com/ajbeattie/octobud"><img src="https://img.shields.io/github/stars/ajbeattie/octobud?style=social" alt="GitHub Stars"></a>
</p>

---

Octobud is a self-hosted web application that helps you manage the flood of GitHub notifications with filtering, custom views, keyboard shortcuts, and automation rules.

Built with **Go**, **Svelte 5**, and **PostgreSQL**.

## Features

### Gmail-inspired Notification Inbox
![Default Inbox View](docs/media/hero_inbox.gif)

### Split Pane Mode
![Split Pane Mode](docs/media/hero_split_detail.gif)

### More

- **Full lifecycle management** â€” Star, Snooze, Archive, Tag, and Mute notifications
- **Inline Issue and PR details** â€” View status, comments, and more inline
- **Super fast loading** - Issue, PR, and Discussion data is stored locally for fast lookup and filtering
- **Split Pane Mode** - view details side by side with your inbox
- **Custom Views** â€” Create filtered views with a rich query language (e.g., `repo:octobud,traefik,vscode AND (reason:review_requested OR tags:followup)`)
- **Keyboard-First** â€” Navigate and manage notifications without touching your mouse
- **Automation Rules** â€” Automatically archive, filter, or tag notifications based on criteria
- **Tags** â€” Organize notifications with custom tags and colors
- **Real-Time Sync** â€” Background worker keeps notifications up to date
- **Desktop notifications** - Never miss a review request or issue reply
- **Privacy-First** â€” Self-hosted, your data stays with you

## Quick Start

### Prerequisites

**For Docker (recommended - easiest):**
- **Docker** and Docker Compose
- **GitHub PAT** with `notifications` and `repo` scopes ([create one here](https://github.com/settings/tokens))

**For local development (without Docker):**
- **Go** 1.24+
- **Node.js** 24+ and npm
- **Docker** and Docker Compose (for PostgreSQL only)
- **GitHub PAT** with `notifications` and `repo` scopes ([create one here](https://github.com/settings/tokens))

---

## Option A: Docker Setup (Recommended)

**Best for:** Quick start, production deployments, minimal setup

### 1. Clone the Repository

```bash
git clone https://github.com/ajbeattie/octobud.git
cd octobud
```

### 2. Configure Environment Variables (Optional)

```bash
cp .env.example .env
# Edit .env and add your GitHub token
```

**Required:**
- `GH_TOKEN` - Your GitHub Personal Access Token (can also be passed directly to make commands)

**Optional (auto-generated if not set):**
- `JWT_SECRET` - Automatically generated by Docker targets (only set manually if you want your own)
- `JWT_EXPIRY` - JWT token expiration duration (default: `168h` = 7 days)

### 3. Start Services

```bash
# Development with hot reload (port 5173)
GH_TOKEN=your_token make docker-up-dev

# Or production build (port 3000)
GH_TOKEN=your_token make docker-up

# With 1Password integration
OP_GH_TOKEN='op://Vault/Item/token' make docker-up-dev-1password
```

**What Docker starts:**
- PostgreSQL database
- Backend API server
- Frontend server
- Background sync worker
- All services configured and connected

Open http://localhost:5173 (dev) or http://localhost:3000 (production) in your browser.

**Stop services:**
```bash
make docker-down
```

---

## Option B: Local Development Setup

**Best for:** Active development, code changes, faster iteration

### 1. Clone the Repository

```bash
git clone https://github.com/ajbeattie/octobud.git
cd octobud
```

### 2. Install Dependencies and Setup

```bash
make setup
```

This command:
- Installs Go tools (goose, sqlc, mockgen)
- Installs frontend npm dependencies
- Starts PostgreSQL in Docker
- Runs database migrations

### 3. Configure Environment Variables

```bash
cp .env.example .env
# Edit .env and add your GitHub token and JWT_SECRET
```

**Required:**
- `GH_TOKEN` - Your GitHub Personal Access Token
- `JWT_SECRET` - Generate one: `openssl rand -hex 32` (or run `make ensure-jwt-secret`)

**Optional:**
- `JWT_EXPIRY` - JWT token expiration duration (default: `168h` = 7 days)

### 4. Start Services (in separate terminals)

```bash
# Terminal 1 - Backend API
make backend-dev

# Terminal 2 - Frontend (with hot reload)
make frontend-dev

# Terminal 3 - Worker (syncs notifications)
make worker
```

Open http://localhost:5173 in your browser.

**Note:** PostgreSQL runs in Docker even for local development. Start/stop it with:
```bash
make db-start  # Start database
make db-stop   # Stop database
```

---

## First Login

After starting services (Docker or local), use these default credentials:

- **Username:** `octobud`
- **Password:** `octobud`

**Important:** Change these credentials immediately after first login via the profile avatar dropdown (top right) â†’ "Update credentials"

### Authentication Details

- JWT tokens expire after 7 days by default (configurable via `JWT_EXPIRY`)
- Active users stay logged in automatically via automatic token refresh
- Service worker continues working even after long periods of tab inactivity
- Inactive users (no activity for 7+ days) will need to log in again

## Documentation

- [Getting Started](docs/getting-started.md) â€” Detailed setup guide
- [Basic Usage](docs/basic-usage.md) â€” Core features overview
- [Query Syntax](docs/features/query-syntax.md) â€” Filter and search notifications
- [Keyboard Shortcuts](docs/features/keyboard-shortcuts.md) â€” Navigate efficiently
- [Views & Rules](docs/features/views-and-rules.md) â€” Organize your inbox
- [Architecture](docs/architecture/) â€” Technical deep-dives

## Project Structure

```
octobud/
â”œâ”€â”€ backend/           # Go backend service
â”‚   â”œâ”€â”€ cmd/          # Entry points (server, worker, migrations)
â”‚   â”œâ”€â”€ internal/     # Internal packages
â”‚   â”‚   â”œâ”€â”€ api/      # HTTP handlers
â”‚   â”‚   â”œâ”€â”€ core/     # Business logic services
â”‚   â”‚   â”œâ”€â”€ db/       # Database queries (sqlc generated)
â”‚   â”‚   â”œâ”€â”€ github/   # GitHub API client
â”‚   â”‚   â”œâ”€â”€ jobs/     # Background jobs (River)
â”‚   â”‚   â””â”€â”€ query/    # Query language parser
â”‚   â””â”€â”€ migrations/   # Database migrations (goose)
â”œâ”€â”€ frontend/         # Svelte 5 + SvelteKit frontend
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ lib/      # Components and utilities
â”‚       â””â”€â”€ routes/   # SvelteKit routes
â””â”€â”€ docs/             # Documentation
```

## Available Commands

| Command | Description |
|---------|-------------|
| `make setup` | First-time setup (install tools, deps, DB, migrations) |
| `make install-tools` | Install Go tools (goose, sqlc, mockgen) |
| `make frontend-install` | Install frontend npm dependencies |
| `make generate` | Generate code (sqlc queries, mocks) |
| `make docker-up` | Run production stack (port 3000) |
| `make docker-up-dev` | Run dev stack with hot reload (port 5173) |
| `make docker-up-1password` | Run production stack with 1Password token |
| `make docker-up-dev-1password` | Run dev stack with 1Password token |
| `make docker-down` | Stop all Docker containers |
| `make backend-dev` | Run backend server locally |
| `make frontend-dev` | Run frontend dev server locally |
| `make worker` | Run notification sync worker |
| `make dev` | Run backend server (alias for backend-dev) |
| `make dev-prompt` | Run backend server with interactive token prompt |
| `make worker-prompt` | Run worker with interactive token prompt |
| `make test` | Run all tests (backend and frontend) |
| `make test-backend` | Run backend tests only |
| `make test-frontend` | Run frontend tests only |
| `make db-start` | Start PostgreSQL in Docker |
| `make db-stop` | Stop PostgreSQL |
| `make db-migrate` | Run database migrations |
| `make psql` | Open PostgreSQL shell |
| `make format` | Format Go code |
| `make clean` | Remove built binaries |
| `make build-frontend` | Build frontend server with embedded assets |

## Contributing

We welcome contributions! Please see [CONTRIBUTING.md](docs/CONTRIBUTING.md) for guidelines.

- ğŸ› [Report bugs](https://github.com/ajbeattie/octobud/issues/new?template=bug_report.md)
- ğŸ’¡ [Request features](https://github.com/ajbeattie/octobud/issues/new?template=feature_request.md)
- ğŸ“– [Improve documentation](https://github.com/ajbeattie/octobud/issues/new?template=docs.md)

## Security

Found a security vulnerability? Please report it responsibly. See [SECURITY.md](SECURITY.md) for details.

## License

Octobud is licensed under the [GNU Affero General Public License v3.0](LICENSE.txt) (AGPL-3.0).

This means you're free to use, modify, and distribute this software, but if you run a modified version as a network service, you must make the source code available to users of that service.

## Disclaimer

Octobud is an independent, open-source project. It is **not affiliated with, endorsed by, or officially supported by GitHub, Inc.** GitHub and the GitHub logo are trademarks of GitHub, Inc.

---

<p align="center">
  Made with â¤ï¸ by someone who hates reading GitHub notifications in plain text and managing a million Gmail filters.
</p>
